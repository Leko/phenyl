// @flow
import {
  WhereQuery,
  IdQuery,
  IdsQuery,
} from './query.js.flow'

import type { Entity } from './entity.js.flow'

type EntityName = string

type ForeignQuery<T> = T & {
  foreign?: ForeignQueryParams
}

export type ForeignQueryParams = {
  documentPath: string,
  entityName: string,
}

export type ForeignQueryResult<T> = T & {
  foreign?: { entities: Array<Entity> } | { entity: Entity }
}

export type ForeignIdQuery<N: EntityName> = ForeignQuery<IdQuery<N>>
export type ForeignWhereQuery<N: EntityName> = ForeignQuery<WhereQuery<N>>
export type ForeignIdsQuery<N: EntityName> = ForeignQuery<IdsQuery<N>>
